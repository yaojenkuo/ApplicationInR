---
title: "如何使用R正確視覺化台灣政黨黨產"
author: "Yao-Jen Kuo"
date: "Sunday, December 27, 2015"
output: 
  html_document:
    toc: true
    toc_depth: 3
    number_sections: false
    theme: united
    highlight: tango
    keep_md: true
    fig_width: 9
    fig_height: 6.5
    fig_caption: true
---

# 簡介

TVBS新聞在2015/12/24 20:59(更新時間 2015/12/25 20:50)發布的新聞**選前再追黨產! 綠拚國會過半立政黨法**中，利用Bar Chart做了黨產的視覺化，一時廣為網友流傳，帶來許多歡樂:

![TVBS新聞截圖](tvbs.jpg)

本文章介紹如何使用R正確視覺化台灣政黨黨產。

---

# 資料

繪圖之前要找資料，TVBS的黨產資料同樣來自**內政部民政司**網站中的[103 年政黨財務申報](http://www.moi.gov.tw/dca/03caucus_10301.aspx)，其中該年度有會計師簽證的政黨只有四個：中國國民黨、民主進步黨、親民黨與台灣團結聯盟(順序依編號，由小至大。)

```{r}
Sys.setlocale(category = "LC_ALL", locale = "cht")
parties <- c("中國國民黨","民主進步黨","親民黨","台灣團結聯盟")
partiesEn <- c("KMT", "DPP", "PFP", "TSU")
assetInMillionNTD <- c(25570, 479, 3, 21)
color <- c("blue", "green", "orange", "goldenrod")
partiesAsset <- data.frame(parties, partiesEn, assetInMillionNTD, color)
```

---

# Packages

這次我們會用3種方式來做黨產視覺化，其中**Base Plotting System**是R內建的繪圖功能，使用前不需要安裝/讀取套件，但是ggplot2與plotly在使用前必須另外安裝/讀取套件。

* Base Plotting System
* ggplot2

```{r}
#install.packages("ggplot2")
library(ggplot2)
```

* plotly

```{r}
#install.packages("plotly")
library(plotly)
```

---

# Visualization

* Base Plotting System

```{r}
basebp <- barplot(partiesAsset$assetInMillionNTD, names.arg=partiesAsset$parties, col=color, cex.names=0.8, border=NA, ylim=c(0,30000), main=paste("民國103年政黨財務申報(具會計師簽證)","\n","單位:新台幣百萬元"), sub="資料來源:內政部民政司")
text(x=basebp, y=partiesAsset$assetInMillionNTD, label=partiesAsset$assetInMillionNTD, pos = 3, cex = 0.8)
```

* ggplot2

```{r}
ggplotbp <- ggplot(data=partiesAsset, aes(x=partiesEn, y=assetInMillionNTD))+geom_bar(colour=NA, fill=c("green", "blue", "orange", "goldenrod"), width=.8, stat="identity")+ ggtitle(paste("民國103年政黨財務申報(具會計師簽證)","\n","單位:新台幣百萬元"))+ylab("")+xlab("資料來源:內政部民政司")+geom_text(aes(label=assetInMillionNTD), vjust = -0.5)
ggplotbp
```

* plotly

```{r}
plotlybp <- plot_ly(
  partiesAsset,
  x=parties,
  y=assetInMillionNTD,
  name="民國103年政黨財務申報(具會計師簽證)",
  type="bar",
  color = c("blue", "green", "orange", "goldenrod")
  )
plotlybp
```

---